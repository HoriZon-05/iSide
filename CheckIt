<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        table{
            border: 1px solid black;
            border-spacing: 0;
        }
        td{
            border: 1px solid gray;
            text-align: center;
            padding: 10px 25px;
        }
        th{
            background-color: #307fff;
            color: white;
            height: 40px;
        }
        th span{
            /* display: inline-block; */
            display:inline-flex;
            height: 100%;
            align-items:center;
            vertical-align:bottom;
        }
        input[type="checkbox"]{
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            margin: 0;
            position: absolute;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 1px solid gray;
            background-color: white;
            /* transform:scale(1); */
            transition: all 0.3s ease;
        }
        input[type="checkbox"]:checked{
            /* background-color: red; */
            background-color: transparent;
            border: 0.1px solid #68E534;
            z-index: 1;
            /* transform:scale(1.2); */
            /* transition: all 0.3s ease; */
        }
        /* input[type="checkbox"]:checked::after {
            content: '';
            height: 6px;
            width: 10px;
            border: 2px solid #fff;
            position: absolute;
            top: 3.5px;
            left: 3.5px;
            border-top: none;
            border-right:none;
            transform: rotate(-45deg);
        } */
        input[type="checkbox"]:checked + svg .circle {
        animation: circle 0.6s ease-in-out;
        animation-fill-mode: forwards;
        }

        svg {
            z-index: 100;
        }

        .circle {
        stroke-dasharray: 1194;
        stroke-dashoffset: 1194;
        }

        .tick {
        stroke-dasharray: 350;
        stroke-dashoffset: 350;
        }

        input[type="checkbox"]:checked + svg .tick {
        animation: tick .8s ease-out;
        animation-fill-mode: forwards;
        animation-delay: .95s;
        }

        @keyframes circle {
        from {
            stroke-dashoffset: 1194;
        }
        to {
            stroke-dashoffset: 2388;
        }
        }

        @keyframes tick {
        from {
            stroke-dashoffset: 350;
        }
        to {
            stroke-dashoffset: 0;
        }
        }
    </style>
</head>
<body>
    <table>
        <tr>
            <th>
                <input type="checkbox" id="checkAll">
                <svg width="40" height="40">
                <circle fill="none" stroke="#68E534" stroke-width="2" cx="20" cy="20" r="19" class="circle" stroke-linecap="round" transform="rotate(-90 20.0 20.0) "/>
                <polyline fill="none" stroke="#68E534" stroke-width="2.4" points="8.8,21.4 17.3,28.4 30.4,13.8" stroke-linecap="round" stroke-linejoin="round" class="tick" />
                </svg>
                <span>全选</span> 
            </th>
            <th>商品</th>
            <th>商家</th>
            <th>价格</th>
        </tr>
        <tr>
            <td>
                <input type="checkbox">
                <svg width="40" height="40">
                <circle fill="none" stroke="#68E534" stroke-width="2" cx="20" cy="20" r="19" class="circle" stroke-linecap="round" transform="rotate(-90 20.0 20.0) "/>
                <polyline fill="none" stroke="#68E534" stroke-width="2.4" points="8.8,21.4 17.3,28.4 30.4,13.8" stroke-linecap="round" stroke-linejoin="round" class="tick" />
                </svg>
            </td>
            <td>小米手机</td>
            <td>小米</td>
            <td>¥1999</td>
        </tr>
        <tr>
            <td>
                <input type="checkbox">
                <svg width="40" height="40">
                <circle fill="none" stroke="#68E534" stroke-width="2" cx="20" cy="20" r="19" class="circle" stroke-linecap="round" transform="rotate(-90 20.0 20.0) "/>
                <polyline fill="none" stroke="#68E534" stroke-width="2.4" points="8.8,21.4 17.3,28.4 30.4,13.8" stroke-linecap="round" stroke-linejoin="round" class="tick" />
                </svg>
            </td>            
            <td>华为手机</td>
            <td>华为</td>
            <td>¥4999</td>
            </td>
        </tr>
        <tr>
            <td>
                <input type="checkbox">
                <svg width="40" height="40">
                <circle fill="none" stroke="#68E534" stroke-width="2" cx="20" cy="20" r="19" class="circle" stroke-linecap="round" transform="rotate(-90 20.0 20.0) "/>
                <polyline fill="none" stroke="#68E534" stroke-width="2.4" points="8.8,21.4 17.3,28.4 30.4,13.8" stroke-linecap="round" stroke-linejoin="round" class="tick" />
                </svg>
            </td>            
            <td>苹果手机</td>
            <td>苹果</td>
            <td>¥6999</td>
            </td>
        </tr>
        </tr>
    </table>
    <script>
        let flag = true;
        let checkAll = document.querySelector('#checkAll');
        let checkboxs = document.querySelectorAll('input[type="checkbox"]');
        checkAll.addEventListener('click', function () {
            for (let i = 0; i < checkboxs.length; i++) {
                checkboxs[i].checked = this.checked;
                //等价于checkboxs[i].checked = checkAll.checked;
            }
        })
        for (let i = 0; i < checkboxs.length; i++) {
            checkboxs[i].addEventListener('click', function () {
                if (!checkboxs[i].checked) {
                    checkAll.checked = false;
                }
            })
        }
    </script>
</body>
</html>
